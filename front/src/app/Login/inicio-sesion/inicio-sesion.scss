@use 'sass:color';
// Paleta de Colores Sistema UTP+Report (Light)
$color-primary: #FF395C; // Rojo principal
$color-primary-foreground: #FFFFFF;
$color-secondary: #000000;
$color-bg: #FFFFFF;
$color-card: #FFFFFF;
$color-muted: #ECECF0;
$color-muted-foreground: #717182;
$color-accent: #E9EBEF;
$color-accent-foreground: #030213;
$color-border: rgba(0,0,0,0.1);
$color-input-bg: #F3F3F5;
$color-ring: #B5B5B5;
$color-text: #262626;
$color-danger: #FF395C;

// Radius
$r-sm: .375rem; //6px
$r-md: .5rem; //8px
$r-lg: .625rem; //10px
$r-xl: .875rem; //14px
$r-card: 1.1rem; // custom

// Transición
$transition: .25s cubic-bezier(.4,0,.2,1);

.login-page {
	min-height: 100dvh;
	width:100%;
	background: $color-bg;
	display: flex;
	align-items: stretch;
	font-family: inherit;
	color: $color-text;
	margin:0;
}

/* ===== Modo oscuro (reaplicar): izquierda negra, derecha blanca, mantener colores del formulario ===== */
html.dark-mode, :host-context(.dark-mode) {
	/* Fondo general negro para que la izquierda quede negra pura */
	.login-page { background: #000 !important; }

	/* IZQUIERDA: panel welcome en negro puro y texto claro */
	.welcome { background: #000 !important; color: #e6eef8 !important; }
	.welcome .feature-svg { stroke: #e6eef8 !important; }
	.brand-title h1, .brand-title .subtitle, .welcome-text h2, .welcome-text p, .features li { color: #e6eef8 !important; }

	/* Mantener la ilustración en una caja blanca para contraste sobre el fondo negro */
	.illustration-box { background: #fff !important; border: 1px solid rgba(255,255,255,0.04) !important; box-shadow: 0 10px 32px -12px rgba(0,0,0,.6) !important; }

	/* DERECHA: columna derecha debe ser blanca; el contenedor .login se vuelve blanco */
	.login { background: #ffffff !important; }
	.card {
		background: $color-card !important; /* mantiene color actual de la tarjeta */
		color: $color-text !important;
		border: 1px solid rgba(0,0,0,0.06) !important;
		box-shadow: 0 8px 28px -10px rgba(0,0,0,0.25), 0 4px 14px -6px rgba(0,0,0,0.15) !important;
	}

	.card-desc, .hint { color: rgba(38,38,38,0.7) !important; }
	.footer { color: rgba(38,38,38,0.6) !important; }

	/* FORZAR que los inputs y el botón principal conserven sus colores actuales (no se oscurecen) */
	.input-wrapper input {
		background: $color-input-bg !important;
		color: $color-text !important;
		border: 1px solid $color-border !important;
	}
	.input-wrapper input:focus {
		border-color: $color-primary !important;
		box-shadow: 0 0 0 3px rgba(255,57,92,.35) !important;
		background: #fff !important;
	}
	.input-wrapper input::placeholder { color: rgba(0,0,0,0.45) !important; opacity: 1 !important; }

	/* Botón principal mantiene estilos actuales */
	.primary-btn { background: $color-primary !important; color: $color-primary-foreground !important; box-shadow: 0 6px 18px -6px rgba(255,57,92,0.55) !important; }

	/* Iconos y toggles del formulario: ligeramente más oscuros para contraste sobre el input blanco */
	.input-wrapper .icon, .toggle-pass { color: rgba(0,0,0,0.45) !important; }

}

/* ===== Forzar colores EXACTOS del modo claro dentro de la tarjeta (titulo, labels, placeholders, iconos) ===== */
html.dark-mode .login-page .card,
:host-context(.dark-mode) .login-page .card {
	/* texto base e inputs usan las variables de modo claro */
	color: $color-text !important;
}

/* Título principal de la tarjeta: mantener acento (rojo) como en modo claro */
html.dark-mode .login-page .card .card-title-heading,
:host-context(.dark-mode) .login-page .card .card-title-heading {
	color: $color-primary !important;
}

/* Descripción y hints: igual que en modo claro */
html.dark-mode .login-page .card .card-desc,
:host-context(.dark-mode) .login-page .card .card-desc,
html.dark-mode .login-page .card .hint,
:host-context(.dark-mode) .login-page .card .hint {
	color: $color-muted-foreground !important;
}

/* Labels y textos de formulario: mismo color que en light mode */
html.dark-mode .login-page .card .field-group label,
:host-context(.dark-mode) .login-page .card .field-group label {
	color: $color-muted-foreground !important;
}

/* Placeholder y texto de input: legible y como en light mode */
html.dark-mode .login-page .card .input-wrapper input,
:host-context(.dark-mode) .login-page .card .input-wrapper input {
	color: $color-text !important;
	background: $color-input-bg !important;
	border: 1px solid $color-border !important;
}
html.dark-mode .login-page .card .input-wrapper input::placeholder,
:host-context(.dark-mode) .login-page .card .input-wrapper input::placeholder {
	color: rgba(0,0,0,0.45) !important;
	opacity: 1 !important;
}

/* Icono de usuario y stroke: mantener color primario si aplica */
html.dark-mode .login-page .card .user-icon svg,
:host-context(.dark-mode) .login-page .card .user-icon svg {
	stroke: $color-primary !important;
}

/* Enlaces dentro de la tarjeta (olvidé contraseña, links) */
html.dark-mode .login-page .card .link,
:host-context(.dark-mode) .login-page .card .link {
	color: $color-primary !important;
}

/* Footer y textos pequeños */
html.dark-mode .login-page .card .footer,
:host-context(.dark-mode) .login-page .card .footer { color: $color-muted-foreground !important; }



.login-grid {
	display: grid;
	grid-template-columns: 1fr;
	width: 100%;
	@media (min-width: 992px) {
		grid-template-columns: 50% 50%;
	}
}

// Sección izquierda
.welcome {
	background: $color-primary;
	color: $color-primary-foreground;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 2.5rem 0 2.5rem 0; /* quitar padding lateral para full bleed */
}

.welcome-inner { max-width: 430px; width: 100%; display:flex; flex-direction:column; align-items:center; text-align:center; }

.brand-illustration { margin-bottom: 1.9rem; }
.illustration-box { background:#fff; border:1px solid $color-border; border-radius:1.05rem; padding:1.5rem 1.6rem; box-shadow:0 10px 32px -12px rgba(0,0,0,.18),0 4px 14px -6px rgba(0,0,0,.08); display:flex; align-items:center; justify-content:center; width:100%; max-width:560px; min-height:210px; }
.illustration-img { max-width:420px; width:100%; height:auto; aspect-ratio: 16/10; object-fit:contain; display:block; }

.brand-title { display:flex; flex-direction:row; align-items:center; gap:1rem; margin-bottom:1.1rem; }
.brand-title h1 { margin:0; font-size:1.7rem; line-height:1.05; font-weight:700; }
.brand-title .subtitle { margin:.25rem 0 0; font-size:.66rem; opacity:.85; font-weight:500; letter-spacing:.35px; }
.brand-icon { display:flex; align-items:center; justify-content:center; width:auto; height:auto; border:none; border-radius:0; }
.brand-text-block { display:flex; flex-direction:column; align-items:flex-start; }

.welcome-text { width:100%; display:flex; flex-direction:column; align-items:center; text-align:center; }
.welcome-text h2 { margin:0 0 .75rem; font-size:1.35rem; font-weight:600; }
.welcome-text p { margin:0 0 1rem; line-height:1.5; font-size:.75rem; max-width:400px; }
.features { list-style:none; margin:0; padding:0; display:grid; gap:.55rem; width:100%; text-align:left; }
.features li { display:flex; align-items:center; gap:.4rem; font-size:.68rem; letter-spacing:.25px; justify-content:flex-start; }
.features li span { line-height:1.25; }
.feature-svg { width:16px; height:16px; flex-shrink:0; stroke:#fff; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; opacity:.94; position:relative; top:1px; }
.feature-svg circle, .feature-svg path { fill:none; }

// Sección derecha
.login { display:flex; align-items:center; justify-content:center; padding:2.5rem 1.5rem; }
.login-inner { width:100%; max-width:420px; display:flex; flex-direction:column; gap:2rem; }

// Card
.card {
	background:$color-card;
	border:1px solid $color-border;
	border-radius: $r-card;
	padding: 1.75rem 1.75rem 2rem;
	box-shadow: 0 8px 28px -10px rgba(0,0,0,0.15), 0 4px 14px -6px rgba(0,0,0,0.08);
	position: relative;
	overflow: hidden;
}

.card-header { text-align:center; margin-bottom:1rem; display:flex; flex-direction:column; align-items:center; }
.card-title-row { display:flex; align-items:center; gap:.85rem; margin-bottom:.4rem; }
.user-icon { width:40px; height:40px; display:flex; align-items:center; justify-content:center; background:transparent; padding:0; border:none; position:relative; }
.user-icon svg { stroke:$color-primary; width:40px; height:40px; display:block; }
.card-title-heading { margin:0; font-size:1.5rem; font-weight:700; line-height:1; letter-spacing:.5px; }
.card-desc { margin:0; font-size:.7rem; color:$color-muted-foreground; line-height:1.4; }

// Alert demo creds
// (Se eliminó bloque de credenciales de prueba en HTML; estilos retirados)

form { display:flex; flex-direction:column; gap:1.15rem; }

.field-group { display:flex; flex-direction:column; gap:.4rem; }
.field-group label { font-size:.7rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color:$color-muted-foreground; }
.hint { font-size:.6rem; color:$color-muted-foreground; }
.error { color:#dc2626; font-size:.7rem; margin-top:.15rem; animation: fadeIn .3s ease; }

.input-wrapper { position:relative; display:flex; align-items:center; }
.input-wrapper .icon { position:absolute; left:.9rem; font-size:1rem; opacity:.55; transition:$transition; }
.input-wrapper input {
	width:100%;
	border:1px solid $color-border;
	background:$color-input-bg;
	padding:.75rem 1rem .75rem 2.4rem;
	font-size:.85rem;
	border-radius: $r-md;
	transition:$transition;
	font-family:inherit;
}
.input-wrapper input:hover { background: color.adjust($color-input-bg, $lightness: 1.5%); }
.input-wrapper input:focus { border-color:$color-primary; box-shadow:0 0 0 3px rgba(255,57,92,.35); outline:none; background:#fff; }
.input-wrapper:focus-within .icon { opacity: .9; color: $color-primary; }

.toggle-pass {
	position:absolute; right:.25rem; top:50%; transform:translateY(-50%);
	background:transparent; border:none; cursor:pointer;
	font-size:.95rem; line-height:1; padding:.35rem .55rem;
	border-radius: $r-sm;
	color:$color-muted-foreground;
	transition:$transition;
}
.toggle-pass:hover { background:$color-accent; color:$color-accent-foreground; }

.form-row { display:flex; align-items:center; gap:.75rem; font-size:.8rem; }
.space-between { justify-content:space-between; }
.remember { display:flex; align-items:center; gap:.4rem; cursor:pointer; user-select:none; }
.remember input { width:15px; height:15px; accent-color: $color-primary; }

.link { color:$color-primary; font-size:.65rem; text-decoration:none; font-weight:500; position:relative; }
.link:after { content:''; position:absolute; left:0; bottom:-2px; width:100%; height:1px; background:currentColor; transform:scaleX(0); transform-origin:left; transition:$transition; }
.link:hover:after { transform:scaleX(1); }

.primary-btn {
	background:$color-primary;
	color:$color-primary-foreground;
	border:none;
	padding:.85rem 1.25rem;
	font-size:.85rem;
	border-radius: $r-md;
	font-weight:600;
	display:flex; align-items:center; justify-content:center; gap:.45rem;
	cursor:pointer;
	transition:$transition;
	position:relative;
	box-shadow: 0 6px 18px -6px rgba(255,57,92,0.55);
}
.primary-btn:hover:not(:disabled) { background: color.adjust($color-primary, $lightness: -4%); transform:translateY(-1px); box-shadow:0 10px 24px -8px rgba(255,57,92,.55); }
.primary-btn:active { transform:translateY(0); }
.primary-btn:disabled { opacity:.55; cursor:not-allowed; }

.btn-icon { font-size:.95rem; }

.spinner { animation: pulse 1s ease-in-out infinite; }

@keyframes pulse { 0%,100%{ opacity:.4; } 50% { opacity:1; } }
@keyframes fadeIn { from { opacity:0; transform:translateY(2px);} to { opacity:1; transform:translateY(0);} }

.footer { text-align:center; font-size:.6rem; color:$color-muted-foreground; }

// Botón flotante SOS
.sos-button {
	position: fixed;
	bottom: 1.75rem;
	right: 1.75rem;
	background: $color-primary;
	color: $color-primary-foreground;
	border: none;
	padding: 1rem 1.15rem;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: .35rem;
	font-size: .65rem;
	font-weight: 600;
	border-radius: 50%;
	width: 70px;
	height: 70px;
	cursor: pointer;
	box-shadow: 0 8px 26px -6px rgba(255,57,92,.55);
	transition: $transition;
}
.sos-button span { font-size: .55rem; letter-spacing:.5px; }
.sos-button:hover { transform: translateY(-3px); background: color.adjust($color-primary, $lightness: -5%); }
.sos-button:active { transform: translateY(-1px); }
.sos-button:focus { outline: none; box-shadow: 0 0 0 4px rgba(255,57,92,.35); }

@media (max-width: 650px) {
	.sos-button { width:62px; height:62px; padding:.85rem; bottom:1.25rem; right:1.25rem; }
}

// Responsive tweaks
@media (max-width: 991px) {
	.login-grid { grid-template-columns: 1fr; }
	.welcome { padding:1.8rem 1.25rem 1.2rem; }
	.brand-illustration { margin-bottom:1.4rem; }
	.illustration-img { max-width:260px; }
	.welcome-text h2 { font-size:1.55rem; }
	.welcome-text p { font-size:.85rem; margin-bottom:1.1rem; }
	.features { gap:.55rem; }
	.login { padding:2rem 1.25rem 3rem; }
	.login-inner { max-width:520px; }
}

@media (max-width: 768px) {
	.welcome { padding: 1.5rem 1rem 1rem; }
	.welcome-inner { max-width: 90%; }
	.brand-title h1 { font-size: 1.5rem; }
	.brand-title .subtitle { font-size: .6rem; }
	.welcome-text h2 { font-size: 1.3rem; }
	.welcome-text p { font-size: .75rem; }
	.features li { font-size: .65rem; }
	.login { padding: 1.5rem 1rem 2rem; }
	.card { padding: 1.5rem 1.5rem 1.8rem; }
	.card-title-heading { font-size: 1.3rem; }
	.card-desc { font-size: .65rem; }
	.input-wrapper input { padding: .65rem 1rem .65rem 2.2rem; font-size: .8rem; }
	.primary-btn { padding: .75rem 1rem; font-size: .8rem; }
	.footer { font-size: .55rem; }
}

@media (max-width: 480px) {
	.welcome { padding: 1rem 0.75rem 0.75rem; }
	.welcome-inner { max-width: 95%; }
	.brand-title h1 { font-size: 1.3rem; }
	.brand-title .subtitle { font-size: .55rem; }
	.welcome-text h2 { font-size: 1.1rem; }
	.welcome-text p { font-size: .7rem; }
	.features { gap:.55rem; }
	.features li { font-size: .6rem; }
	.login { padding: 1rem 0.75rem 1.5rem; }
	.card { padding: 1.2rem 1.2rem 1.5rem; }
	.card-title-heading { font-size: 1.1rem; }
	.card-desc { font-size: .6rem; }
	.input-wrapper input { padding: .6rem 0.8rem .6rem 2rem; font-size: .75rem; }
	.primary-btn { padding: .7rem 0.9rem; font-size: .75rem; }
	.footer { font-size: .5rem; }
	.sos-button { bottom: 1rem; right: 1rem; width: 55px; height: 55px; padding: .75rem; font-size: .6rem; }
	.sos-button span { font-size: .5rem; }
}

@media (max-width: 375px) {
  .welcome { padding: 0.8rem 0.5rem 0.5rem; }
  .welcome-inner { max-width: 98%; }
  .brand-title h1 { font-size: 1.2rem; }
  .brand-title .subtitle { font-size: .5rem; }
  .welcome-text h2 { font-size: 1rem; }
  .welcome-text p { font-size: .65rem; }
  .features li { font-size: .55rem; }
  .login { padding: 0.8rem 0.5rem 1.2rem; }
  .card { padding: 1rem 1rem 1.2rem; }
  .card-title-heading { font-size: 1rem; }
  .card-desc { font-size: .55rem; }
  .input-wrapper input { padding: .5rem 0.7rem .5rem 1.8rem; font-size: .7rem; }
  .primary-btn { padding: .6rem 0.8rem; font-size: .7rem; }
  .footer { font-size: .45rem; }
  .sos-button { bottom: 0.8rem; right: 0.8rem; width: 50px; height: 50px; padding: .6rem; font-size: .55rem; }
  .sos-button span { font-size: .45rem; }
}
