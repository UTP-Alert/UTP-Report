/* =============================================================
	 NAVBAR (Implementación limpia)
	 Requisitos:
	 - Marca (UTP+Report) movible de forma independiente: usar --brand-extra-left
	 - Botón REPORTAR AHORA movible independiente: usar --cta-extra-right
	 - Navegación (INICIO ... campana ... puerta) centrada SIEMPRE
	 - Íconos campana y logout visibles en desktop
	 - Responsive: menú hamburguesa; CTA pasa al menú
============================================================= */

$break-mobile: 900px;
$color-bg: #000;
$color-text: #fff;
$color-dim: rgba(255,255,255,.68);
$brand-color: var(--primary, #FF395C);
$cta-color: var(--primary, #FF395C);
$cta-color-hover: #ff5f78;

:host { display:block; }
:host {
	/* === Control independiente de la marca (UTP+Report) === */
	--brand-extra-left: 15rem; /* mueve horizontalmente la marca; sube este valor para empujarla a la derecha */
	--brand-extra-top: 0rem;   /* mueve verticalmente la marca: positivo baja, negativo sube */
	--brand-font-size: 1.5rem;/* tamaño del texto de la marca (ej: 1.1rem, 1.2rem) */
	--brand-icon-size: 24px;   /* tamaño del ícono del escudo (ej: 22px, 26px) */

	/* === Control independiente del CTA === */
	--cta-extra-right: -15rem;  /* aumenta para mover CTA hacia el centro (reduce offset derecho) */
	--cta-reserve: 10.5rem;      /* espacio reservado dentro de la nav para que no tape los últimos botones */
}

header.top-nav {
	position:sticky; top:0; z-index:1000; position:relative;
	display:flex; align-items:center;
	padding:0 clamp(1.6rem,4vw,3rem);
	min-height:64px; background:$color-bg; color:$color-text;
	font:500 0.86rem/1 'Poppins', system-ui, sans-serif;
	letter-spacing:.3px;
}

/* Marca independiente */
.left-cluster { display:flex; align-items:center; }
.brand { display:flex; align-items:center; gap:.6rem; font-weight:600; font-size:var(--brand-font-size, 1.05rem); cursor:pointer; margin-left:var(--brand-extra-left); position:relative; top:var(--brand-extra-top); }
.brand svg { width:var(--brand-icon-size, 24px); height:var(--brand-icon-size, 24px); color:$brand-color; }
.brand-text { white-space:nowrap; }

/* Centro absoluto: no depende de márgenes laterales */
.center-cluster { position:absolute; left:50%; top:0; transform:translateX(-50%); height:100%; display:flex; align-items:center; }
.main-nav { position:relative; display:flex; align-items:center; gap:.5rem; padding:0 1.1rem; transform:translateX(calc(var(--cta-reserve)/2)); }
/* Reserva visual para que el CTA absoluto no cubra los últimos items */
.main-nav::after { content:""; display:block; width:var(--cta-reserve); height:1px; }

/* Botones base */
.main-nav button, .user-chip, .report-cta, button.icon-btn {
	appearance:none; border:0; background:transparent; color:$color-dim; font:inherit;
	display:inline-flex; align-items:center; gap:.45rem; cursor:pointer;
	padding:.8rem 1.05rem; border-radius:.7rem; font-weight:600; font-size:.8rem; letter-spacing:.6px; text-transform:uppercase;
	transition:.22s background, .22s color, .22s box-shadow;
}
.main-nav button:hover, .main-nav button:focus-visible { background:rgba(255,255,255,.10); color:$color-text; }
/* Activo: mismo color que el CTA */
.main-nav button.active { background:$cta-color; color:#fff; box-shadow:0 2px 4px -1px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.06) inset; }
.main-nav button.active:hover { background:$cta-color; }
.main-nav button svg, .report-cta svg, .user-chip svg, button.icon-btn svg { width:20px; height:20px; stroke-width:2; }
/* Aumentar explícitamente los iconos de campana y puerta (icon-only) */
button.icon-btn svg { width:20px; height:20px; }

/* Chip usuario */
.user-chip { text-transform:none; background:#161616; color:$color-text; font-size:.78rem; }

/* Badge de estado (Activo) */
.status-badge {
	display:inline-flex; align-items:center; gap:.4rem; margin-left:.4rem;
	padding:.35rem .6rem; border-radius:999px; font-size:.72rem; font-weight:700; letter-spacing:.4px;
	background:#102a17; color:#67ff9a; /* verde sutil sobre negro */
	border:1px solid rgba(103,255,154,.25);
}
.status-badge .dot { width:.5rem; height:.5rem; border-radius:999px; background:#18e06f; box-shadow:0 0 0 2px rgba(24,224,111,.15); }

/* Icon buttons */
button.icon-btn { width:55px; justify-content:center; padding:.6rem; }
button.icon-btn:hover { background:rgba(255,255,255,.12); color:$color-text; }

/* CTA independiente */
.report-cta {
	position:absolute; top:50%; right:calc(clamp(1.6rem,4vw,3rem) + var(--cta-extra-right)); transform:translateY(-50%);
	background:$cta-color; color:#fff; box-shadow:0 2px 4px -1px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.07) inset;
	font-size:.82rem; font-weight:700; letter-spacing:.55px; padding:.82rem 1.35rem;
}
.report-cta:hover { background:$cta-color-hover; }
.report-cta:active { transform:translateY(-50%) scale(.97); }

button:focus-visible, .user-chip:focus-visible { outline:2px solid $cta-color; outline-offset:2px; }

/* Toggle */
.nav-toggle { display:none; background:transparent; border:0; color:$color-text; padding:.45rem; border-radius:.55rem; cursor:pointer; }
.nav-toggle:hover, .nav-toggle:focus-visible { background:rgba(255,255,255,.15); }
.nav-toggle .ic { width:26px; height:26px; }

main.content { min-height:calc(100dvh - 64px); padding:1.25rem; }

/* ================= MOBILE ================= */
@media (max-width:$break-mobile) {
	header.top-nav { padding:0 1.05rem; min-height:56px; }
	.report-cta { display:none; }
	.nav-toggle { display:inline-flex; position:absolute; right:1rem; top:50%; transform:translateY(-50%); }
	.center-cluster { position:fixed; left:0; top:56px; transform:none; width:100%; height:auto; display:block; padding:.9rem .9rem 2.1rem; background:rgba(0,0,0,.93); backdrop-filter:blur(4px); overflow-y:auto; opacity:0; pointer-events:none; transition:.28s opacity,.28s transform; transform:translateY(-6px); }
	.center-cluster.open, .center-cluster:has(.main-nav.open) { opacity:1; pointer-events:auto; transform:translateY(0); }
	.main-nav { flex-direction:column; align-items:stretch; gap:.45rem; padding:0; transform:none; }
	.main-nav::after { display:none; }
	.main-nav:not(.open) { display:none; }
	.main-nav.open { display:flex; }
	.main-nav button, .user-chip, button.icon-btn { width:100%; justify-content:flex-start; font-size:.75rem; padding:.85rem 1rem; border-radius:.65rem; }
	button.icon-btn { width:100%; }
	.status-badge { width:100%; justify-content:flex-start; margin-left:0; }
	/* CTA pasa al menú */
	.main-nav.open + .report-cta-desktop, .report-cta-desktop { display:inline-flex; width:100%; justify-content:center; background:$cta-color; color:#fff; margin-top:.95rem; padding:1rem 1.1rem; font-size:.78rem; border-radius:.7rem; box-shadow:0 2px 4px -1px rgba(0,0,0,.5); }
	.main-nav.open + .report-cta-desktop:hover { background:$cta-color-hover; }
	.brand { font-size:.95rem; }
	.brand svg { width:20px; height:20px; }
}

@media (max-width:520px) {
	.main-nav button, .user-chip { font-size:.7rem; }
	.main-nav.open + .report-cta-desktop { font-size:.74rem; }
}

@media (prefers-reduced-motion:reduce) { .center-cluster, .main-nav button, .report-cta, .nav-toggle { transition:none !important; } }

@media (max-width:$break-mobile) {
	.center-cluster { scrollbar-width:thin; scrollbar-color:#444 transparent; }
	.center-cluster::-webkit-scrollbar { width:8px; }
	.center-cluster::-webkit-scrollbar-track { background:transparent; }
	.center-cluster::-webkit-scrollbar-thumb { background:#333; border-radius:4px; }
	.center-cluster::-webkit-scrollbar-thumb:hover { background:#444; }
}