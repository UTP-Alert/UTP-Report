<!-- Contenedor principal de la página, con altura mínima de la pantalla y fondo gris claro. -->
<div class="min-h-screen bg-gray-50">
  <!-- Contenido principal de la página, con ancho máximo y centrado automático, y relleno. -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8">

    <!-- SECCIÓN DEL ENCABEZADO DEL ADMINISTRADOR -->
    <div class="mb-6 sm:mb-8">
      <!-- Alerta informativa para el panel de administración. -->
      <div class="alert border-primary bg-blue-50">
        <!-- Icono de escudo (Shield icon) como marcador de posición. -->
        <i class="shield-icon h-5 w-5 sm:h-6 sm:w-6"></i>
        <!-- Descripción de la alerta. -->
        <div class="alert-description text-sm sm:text-base lg:text-lg">
          Panel de Administración - Gestiona alertas, reportes y supervisa la seguridad del campus en tiempo real.
        </div>
      </div>
    </div>

    <!-- TÍTULO PRINCIPAL DEL DASHBOARD -->
    <h1 class="text-xl sm:text-2xl lg:text-3xl mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3">
      <!-- Icono de gráfico de barras (BarChart3 icon) como marcador de posición. -->
      <i class="barchart3-icon h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-primary"></i>
      Panel de Administración
    </h1>

    <!-- Gráficos de Chart.js -->
    <div class="charts-grid">
      <app-chart-card [title]="'Estado de Reportes'" [chartData]="reportStatusChartData"></app-chart-card>
      <app-chart-card [title]="'Zonas con Reportes'" [chartData]="zoneChartData"></app-chart-card>
      <app-chart-card [title]="'Reportes Enviados por Día'" [chartData]="reportsSentChartData"></app-chart-card>
    </div>


    <!-- PESTAÑAS DE NAVEGACIÓN -->
    <!-- Móvil: fila horizontal desplazable; sm+: grid regular de 5 columnas -->
    <div class="tabs-list flex gap-2 overflow-x-auto pb-2 flex-nowrap lg:grid lg:grid-cols-5 w-full mb-4 lg:mb-6 h-auto">
    <!-- PESTAÑA 1: Reportes Recientes -->
  <a class="tabs-trigger inline-flex items-center gap-1 lg:gap-2 text-xs lg:text-sm p-2 lg:p-3 min-w-[140px] lg:min-w-0 whitespace-nowrap" [routerLink]="['/admin/recientes']" routerLinkActive="active" (click)="setActiveTab('recent')">
      <!-- Icono de archivo de texto (FileText icon) como marcador de posición. -->
      <i class="file-text-icon h-3 w-3 sm:h-4 sm:w-4"></i>
      <span class="hidden sm:inline">Reportes</span> Recientes
    </a>
    <!-- PESTAÑA 2: En Proceso -->
  <a class="tabs-trigger inline-flex items-center gap-1 lg:gap-2 text-xs lg:text-sm p-2 lg:p-3 min-w-[140px] lg:min-w-0 whitespace-nowrap" [routerLink]="['/admin/en-proceso']" routerLinkActive="active" (click)="setActiveTab('in-process')">
      <!-- Icono de reloj (Clock icon) como marcador de posición. -->
      <i class="clock-icon h-3 w-3 sm:h-4 sm:w-4"></i>
      <span class="hidden sm:inline">En</span> Proceso
    </a>
    <!-- PESTAÑA 3: Pendiente Aprobación -->
  <a class="tabs-trigger inline-flex items-center gap-1 lg:gap-2 text-xs lg:text-sm p-2 lg:p-3 min-w-[140px] lg:min-w-0 whitespace-nowrap" [routerLink]="['/admin/pend-aprobacion']" routerLinkActive="active" (click)="setActiveTab('pending-approval')">
      <!-- Icono de círculo de alerta (AlertCircle icon) como marcador de posición. -->
      <i class="alert-circle-icon h-3 w-3 sm:h-4 sm:w-4"></i>
      <span class="hidden lg:inline">Pend.</span> Aprobación <!-- Marcador de posición para el número de reportes pendientes de aprobación. -->
    </a>
    <!-- PESTAÑA 4: Resueltos -->
  <a class="tabs-trigger inline-flex items-center gap-1 lg:gap-2 text-xs lg:text-sm p-2 lg:p-3 min-w-[140px] lg:min-w-0 whitespace-nowrap" [routerLink]="['/admin/resueltos']" routerLinkActive="active" (click)="setActiveTab('resolved')">
      <!-- Icono de círculo de verificación (CheckCircle icon) como marcador de posición. -->
      <i class="check-circle-icon h-3 w-3 sm:h-4 sm:w-4"></i>
      Resueltos
    </a>
    <!-- PESTAÑA 5: Cancelados -->
  <a class="tabs-trigger inline-flex items-center gap-1 lg:gap-2 text-xs lg:text-sm p-2 lg:p-3 min-w-[140px] lg:min-w-0 whitespace-nowrap" [routerLink]="['/admin/cancelados']" routerLinkActive="active" (click)="setActiveTab('cancelled')">
      <!-- Icono de X (X icon) como marcador de posición. -->
      <i class="x-icon h-3 w-3 sm:h-4 sm:w-4"></i>
      Cancelados
    </a>
    </div>

    <!-- SECCIÓN DE TARJETAS DE REPORTES: cada pestaña ahora vive en su propio componente standalone -->
    <div *ngIf="activeTab === 'recent'">
      <app-reportes-recientes></app-reportes-recientes>
    </div>

    <div *ngIf="activeTab === 'in-process'">
      <app-en-proceso></app-en-proceso>
    </div>

    <div *ngIf="activeTab === 'pending-approval'">
      <app-pend-aprobacion></app-pend-aprobacion>
    </div>

    <div *ngIf="activeTab === 'resolved'">
      <app-pend-resueltos></app-pend-resueltos>
    </div>

    <div *ngIf="activeTab === 'cancelled'">
      <app-cancelados></app-cancelados>
    </div>
  </main>
</div>
